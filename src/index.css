/* ================================
   Tailwind (si ton projet l’utilise)
   ================================ */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ================================
   Reset & bases
   ================================ */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html, body, #root {
  height: 100%;
}

html, body {
  margin: 0;
  padding: 0;
  background: #f5f5f5;
  color: #111;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Liens & images */
a { color: inherit; text-decoration: none; }
img { max-width: 100%; display: inline-block; }

/* Tables basiques (utile si pas de Tailwind dans le PDF) */
table { border-collapse: collapse; width: 100%; }
th, td { padding: 6px 8px; }

/* ================================
   LAYOUT PDF A4 AVEC HEADER/FOOTER FIXES
   ================================ */

/* Taille A4 à ~96 dpi + hauteurs header/footer.
   Si tu modifies les hauteurs, ajuste aussi .pdf-content (top/bottom). */
:root {
  --a4-w: 794px;   /* ~210 mm @ 96dpi */
  --a4-h: 1123px;  /* ~297 mm @ 96dpi */
  --hdr-h: 120px;  /* hauteur du header */
  --ftr-h: 90px;   /* hauteur du footer */
}

/* Chaque .pdf-page = UNE page PDF */
.pdf-page {
  width: var(--a4-w);
  height: var(--a4-h);     /* hauteur FIXE -> empêche les débordements */
  position: relative;
  background: #ffffff;
  border: 1px solid #000;  /* garde ton cadre noir */
  margin: 0 auto;
  page-break-after: always; /* force un saut APRÈS chaque page */
}

.pdf-page:last-child {
  page-break-after: auto;   /* pas de saut après la dernière */
}

/* HEADER & FOOTER épinglés */
.pdf-header,
.pdf-footer {
  position: absolute;
  left: 0;
  right: 0;
}

.pdf-header {
  top: 0;
  height: var(--hdr-h);
}

.pdf-footer {
  bottom: 0;
  height: var(--ftr-h);
}

/* Zone de contenu entre header et footer (BORNEE) */
.pdf-content {
  position: absolute;
  top: var(--hdr-h);
  bottom: var(--ftr-h);
  left: 0;
  right: 0;
  padding: 24px;
  overflow: hidden; /* empêche tout dépassement sur la page */
}

/* Évite les coupures internes de blocs importants (totaux, signatures…) */
.pdf-avoid-break {
  page-break-inside: avoid;
  break-inside: avoid;
}

/* IMPORTANT : on N’UTILISE PAS .html2pdf__page-break
   car chaque .pdf-page est déjà une page distincte. */

/* ================================
   Styles utiles pour l’aperçu écran
   ================================ */
.preview-wrapper {
  background: #e9ecef;
  padding: 16px;
}

/* En-tête noir “COMAGAL ENERGY” (si tu ne relies pas tout à Tailwind) */
.header-bar {
  background: #000;
  color: #fff;
  border-bottom: 1px solid #000;
  padding: 24px 32px;
}

/* Pied de page noir */
.footer-bar {
  background: #000;
  color: #fff;
  border-top: 2px solid #fff;
  padding: 12px 16px;
  font-size: 12px;
  text-align: center;
}

/* Table style (si non gérée par Tailwind dans le HTML) */
.table {
  width: 100%;
  border: 1px solid #000;
  border-radius: 4px;
  overflow: hidden;
}
.table thead th {
  background: #000;
  color: #fff;
  font-weight: 700;
  border-right: 1px solid #fff;
  text-align: center;
  font-size: 13px;
  padding: 10px 8px;
}
.table thead th:last-child { border-right: none; }
.table tbody td {
  border-top: 1px solid #000;
  border-right: 1px solid #000;
  text-align: center;
  font-size: 12px;
  padding: 8px 6px;
}
.table tbody td:last-child { border-right: none; }

/* ================================
   Impression
   ================================ */
@media print {
  html, body {
    background: #ffffff !important;
  }
  /* Supprime les marges du navigateur, on gère nos pages nous-mêmes */
  @page {
    size: A4 portrait;
    margin: 0;
  }
  /* S’assure que chaque conteneur page tient seul sur une page imprimée */
  .pdf-page {
    break-after: page;
  }
}
